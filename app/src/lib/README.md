# lib/

封装纯函数工具，供 React、Three.js、数据脚本复用。所有函数需具备中文 JSDoc 注释与对应单测，禁止在此引用浏览器 API 或全局状态，以保持可测试性。

## 现有模块

- `coordinates.js`：WGS84 → 本地平面投影、坐标归一化、基准原点管理。
- `roadGraph.js`：道路图构建、最短路、缓冲区裁剪。
- `poiIndex.js`：POI 索引构建、模糊匹配、关键词高亮。

## 开发规范

- 函数必须是纯函数；需要外部配置请通过入参传递（一般为 `config` 或参数对象）。
- 任何与 store/React 关联的逻辑都应放在调用方，`lib/` 只负责数据处理。
- `import` 语句上方写明依赖/用途；变量命名需附注释解释单位或含义。
- 新建文件时，同步在 `src/tests/lib/` 添加 `<module>.test.js`。

## 测试

- 使用 Vitest，覆盖输入/输出、边界条件、异常数据。
- 对于依赖 `config` 的函数，可在测试中构造最小配置对象，避免直接引用真实配置导致耦合。
