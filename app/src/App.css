/**
 * App 组件样式文件
 * 职责：定义应用布局、Three.js 场景容器、场景标题和调试面板的样式
 * 
 * 布局策略：
 * - .app-root：全屏容器，相对定位作为绝对定位子元素的参考
 * - .scene-container：Three.js 画布容器（100% 宽高）
 * - .scene-overlay：固定位置的标题卡片（左上角）
 * - .debug-panel：固定位置的调试面板（右上角，开发环境显示）
 * 
 * 主题配色：深色UI，适应大屏展示
 */

/**
 * .app-root：应用根容器
 * 属性说明：
 * - position: relative：为绝对定位的叠加层提供定位上下文
 * - overflow: hidden：防止超出内容滚动显示
 * - width/height: 100vw/100vh：覆盖整个视口
 * - background-color: #0f172a：深蓝灰色背景
 */
.app-root {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  margin: 0;
  background-color: #0f172a;
  color: #e2e8f0;
  font-family: "Noto Sans SC", "Segoe UI", Arial, sans-serif;
}

/**
 * .scene-container：Three.js 渲染容器
 * 职责：承载 WebGL canvas，占满整个应用空间
 * canvas 会由 initScene() 动态创建并插入此元素
 */
.scene-container {
  width: 100%;
  height: 100%;
}

/**
 * .scene-container canvas：Three.js 生成的 canvas 元素
 * 属性说明：
 * - display: block：移除 inline 默认的下边距，避免布局闪烁
 * - width/height: 100%：填满容器
 */
.scene-container canvas {
  width: 100%;
  height: 100%;
  display: block;
}

/**
 * .top-container：顶部容器
 * 包含场景标题和导航按钮组，水平排列
 * 
 * 属性说明：
 * - position: absolute：脱离文档流，悬浮在 canvas 上方
 * - top: 24px：距离顶部 24px
 * - left: 0, right: 0：左右撑满
 * - padding: 0 24px：左右内边距
 * - display: flex：水平排列
 * - align-items: center：垂直居中
 * - justify-content: flex-start：默认靠左排列，标题在左
 * - gap: 16px：标题和按钮组之间的间距
 * - width: 100%：占满宽度
 */
.top-container {
  position: absolute;
  top: 24px;
  left: 0;
  right: 0;
  padding: 0 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  width: 100%;
  box-sizing: border-box;
  z-index: 1000;
}

/**
 * .top-container::after：右侧占位元素（flex: 1）
 * 用于平衡布局，让按钮组可以真正居中（通过绝对定位）
 */
.top-container::after {
  content: '';
  flex: 1;
}

 /**
 * .scene-overlay：场景标题和说明卡片
 * 位置：在 top-container 内，靠左显示
 * 样式：玻璃态（毛玻璃背景 + 边框），适合大屏展示
 * 
 * 属性说明：
 * - position: relative：在容器内正常流
 * - flex-shrink: 0：不允许收缩，保持固定宽度
 * - backdrop-filter: blur(8px)：毛玻璃效果（需浏览器支持）
 * - border: 1px solid rgba(..., 0.22)：半透明边框
 * - box-shadow：阴影增强深度感
 * - text-align: left：文本左对齐
 */
.scene-overlay {
  position: relative;
  flex-shrink: 0;
  padding: 16px 20px;
  border-radius: 12px;
  border: 1px solid rgba(226, 232, 240, 0.22);
  background: rgba(15, 23, 42, 0.65);
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.45);
  text-align: left;
}

/**
 * .navigation-buttons-group：导航按钮组容器
 * 水平排列三个导航按钮，在顶部容器中居中（不受标题宽度影响）
 * 
 * 属性说明：
 * - display: flex：水平排列
 * - gap: 12px：按钮之间的间距
 * - flex-wrap: wrap：小屏幕时允许换行
 * - justify-content: center：水平居中
 * - position: absolute：绝对定位，相对于 top-container
 * - left: 50% + transform: translateX(-50%)：水平居中
 * - flex-shrink: 0：不允许收缩，保持按钮组宽度
 */
.navigation-buttons-group {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  flex-shrink: 0;
}

/**
 * 响应式设计：小屏幕时调整顶部容器和按钮布局
 */
@media (max-width: 768px) {
  .top-container {
    padding: 0 16px;
    gap: 12px;
    flex-direction: column;
    align-items: stretch;
  }
  
  .top-container::before,
  .top-container::after {
    display: none;
  }
  
  .navigation-buttons-group {
    width: 100%;
    order: 2;
    padding: 0;
    flex: none;
  }
  
  .scene-overlay {
    order: 1;
    padding: 12px 16px;
    width: 100%;
  }
  
  .scene-overlay h1 {
    font-size: 1.1rem;
  }
  
  .scene-overlay p {
    font-size: 0.85rem;
  }
}

/**
 * .scene-overlay h1：标题文本
 * 属性说明：
 * - font-size: 1.3rem：相对于 body 的 1.3 倍
 * - margin: 0：移除默认上下外边距
 */
.scene-overlay h1 {
  margin: 0;
  font-size: 1.3rem;
}

/**
 * .scene-overlay p：说明文字
 * 属性说明：
 * - margin: 6px 0 0：顶部间距 6px，其他方向为 0
 * - color: #cbd5f5：浅蓝色文字，低对比度，示意性内容
 * - font-size: 0.95rem：比 body 略小
 */
.scene-overlay p {
  margin: 6px 0 0;
  font-size: 0.95rem;
  color: #cbd5f5;
}

/**
 * .debug-panel：调试面板容器
 * 位置：右上角（right: 24px, top: 24px）
 * 宽度：260px（固定宽，便于排列参数控件）
 * 样式：同 scene-overlay 的玻璃态设计
 * 
 * 属性说明：
 * - position: absolute：脱离文档流
 * - width: 260px：固定宽度便于内容排版
 * - background: rgba(15, 23, 42, 0.75)：比 overlay 更不透明
 * - backdrop-filter: blur(6px)：毛玻璃效果（比 overlay 略弱）
 */
.debug-panel {
  position: absolute;
  right: 24px;
  top: 24px;
  width: 260px;
  padding: 16px;
  border-radius: 12px;
  border: 1px solid rgba(226, 232, 240, 0.18);
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.4);
  font-size: 0.9rem;
}

/**
 * .debug-panel__header：面板头部（标题 + Reset 按钮）
 * 布局：flex 行排列，两端对齐（space-between）
 */
.debug-panel__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  font-weight: 600;
}

/**
 * .debug-panel__header button：Reset 按钮
 * 属性说明：
 * - border: 1px solid rgba(..., 0.4)：半透明边框
 * - background: rgba(15, 23, 42, 0.6)：略深的背景
 * - padding: 4px 10px：紧凑的内边距
 * - cursor: pointer：鼠标悬停时显示指针
 */
.debug-panel__header button {
  border: 1px solid rgba(226, 232, 240, 0.4);
  background: rgba(15, 23, 42, 0.6);
  color: #e2e8f0;
  padding: 4px 10px;
  border-radius: 6px;
  cursor: pointer;
}

/**
 * .debug-panel__row：参数行容器（标签 + 输入控件）
 * 布局：flex 行排列，各子元素间 8px 间距
 * 用途：容纳 label、input range/number、value 显示
 */
.debug-panel__row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}

/**
 * .debug-panel__row span：标签和值显示文本
 */
.debug-panel__row span {
  flex: 1;
}

/**
 * .debug-panel__row input[type="range"]：范围滑块
 * 属性说明：
 * - flex: 1：占据剩余空间
 * - 默认样式继承自浏览器
 */
.debug-panel__row input[type="range"] {
  flex: 1;
}

/**
 * .debug-panel__row input[type="number"]：数值输入框
 * 属性说明：
 * - width: 80px：固定宽便于对齐
 * - padding: 4px：小内边距
 * - border-radius: 6px
 * - border: 1px solid rgba(..., 0.3)：半透明边框
 * - background: rgba(15, 23, 42, 0.5)：深色背景
 */
.debug-panel__row input[type="number"] {
  width: 80px;
  padding: 4px;
  border-radius: 6px;
  border: 1px solid rgba(226, 232, 240, 0.3);
  background: rgba(15, 23, 42, 0.5);
  color: #e2e8f0;
}

/**
 * .debug-panel__value：数值显示（旋转角度等）
 * 属性说明：
 * - width: 36px：固定宽（3 位数字）
 * - text-align: right：右对齐，便于视觉对齐
 */
.debug-panel__value {
  width: 36px;
  text-align: right;
}

.debug-panel__section {
  margin-top: 12px;
  border-top: 1px solid rgba(226, 232, 240, 0.15);
  padding-top: 8px;
}

.debug-panel__section summary {
  font-weight: 600;
  cursor: pointer;
  margin-bottom: 6px;
}

.debug-panel__section-content {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.debug-panel__row select {
  flex: 1;
  padding: 4px;
  border-radius: 6px;
  border: 1px solid rgba(226, 232, 240, 0.3);
  background: rgba(15, 23, 42, 0.5);
  color: #e2e8f0;
}

.debug-panel__checkbox-row {
  display: flex;
  align-items: center;
  gap: 10px;
}

.debug-panel__checkbox-row input[type="checkbox"] {
  width: 16px;
  height: 16px;
}
