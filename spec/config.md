# 配置策略 Spec

## 目标
- 以最小结构集中管理颜色、默认高度、图层开关等关键参数，避免分散在多个文件。

## 文件
- `src/config/index.js`：唯一入口，导出一个对象，例如：
  ```js
  export const 配置 = {
    颜色映射: { 教学楼: "#4A90E2", 宿舍: "#F5A623" },
    默认高度: { "1层": 4, "2层": 8, "教学楼": 15 },
    图层: [
      { 名称: "道路", 可见: true, 顺序: 10 },
      { 名称: "热点", 可见: false, 顺序: 20 }
    ]
  };
  export default 配置;
  ```
- 后续若需要主题或更多配置，再在此文件内扩展字段（不拆分额外 JSON）。
- `config.json`：暂无；只有在未来需要让非工程成员直接编辑配置、或需要远程加载配置文件时，才会在 spec 中新增该文件及加载方式。未在 spec 中说明前，禁止新建 `config.json`。

## 使用约定
- 数据管线的高度补全引用 `配置.默认高度`。
- Three.js、deck.gl 材质颜色从 `配置.颜色映射` 读取。
- LayerToggle 根据 `配置.图层` 自动生成选项及默认可见性。
- 任何模块如需新增配置字段，须先更新本 spec，再在 `index.js` 中添加。

## TODO
- [x] 在 `src/config/index.js` 写入示例结构（已创建 `config` 对象，包含颜色映射、默认高度、图层配置）。
- [ ] 在 `spec/data-pipeline.md` 补充“引用 `配置.默认高度`”的说明。
- [ ] 在 `spec/ui.md` 记录 LayerToggle 与 `配置.图层` 的映射逻辑。
